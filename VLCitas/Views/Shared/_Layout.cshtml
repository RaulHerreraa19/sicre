@using VLCitas.DataLayer;
@{
    VLCitas.DataLayer.Models.UserRoles crole = Session["rol"] != null ? (VLCitas.DataLayer.Models.UserRoles)Convert.ToInt32(Session["rol"]) : VLCitas.DataLayer.Models.UserRoles.Assistant;
    Users user = (Users)Session["user"];
}

<!DOCTYPE html>
<html class="loading" lang="en" data-textdirection="ltr">

<!-- Mirrored from pixinvent.com/bootstrap-admin-template/robust/html/ltr/vertical-overlay-menu-template/dashboard-crm.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 13 Nov 2017 17:07:20 GMT -->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta name="description" content="Sitio web para agendar citas medicas">
    <meta name="keywords" content="citas, medicos, sistema de citas, buscar citas, doctores">
    <meta name="author" content="VolkanoLabs">
    <meta charset="UTF-8">
    <title>SIC</title>
    <link rel="apple-touch-icon" sizes="60x60" href="~/Content/robust/app-assets/images/ico/apple-icon-60.png">
    <link rel="apple-touch-icon" sizes="76x76" href="~/Content/robust/app-assets/images/ico/apple-icon-76.png">
    <link rel="apple-touch-icon" sizes="120x120" href="~/Content/robust/app-assets/images/ico/apple-icon-120.png">
    <link rel="apple-touch-icon" sizes="152x152" href="~/Content/robust/app-assets/images/ico/apple-icon-152.png">
    <link rel="shortcut icon" type="image/png" href="~/Content/robust/app-assets/images/ico/favicon-32.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <!-- BEGIN VENDOR CSS-->
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="~/Content/robust/app-assets/css/vendors.min.css">
    <link rel="stylesheet" type="text/css" href="~/Content/robust/app-assets/vendors/css/charts/jquery-jvectormap-2.0.3.css">
    <link rel="stylesheet" type="text/css" href="~/Content/robust/app-assets/css/app.min.css">
    <link rel="stylesheet" type="text/css" href="~/Content/robust/app-assets/css/core/menu/menu-types/vertical-menu.min.css">
    <link rel="stylesheet" type="text/css" href="~/Content/robust/app-assets/css/core/colors/palette-gradient.min.css">

    <!-- END Page Level CSS-->
    <!-- BEGIN Custom CSS-->
    <link rel="stylesheet" type="text/css" href="~/Content/robust/assets/css/style.css">
    <!-- END Custom CSS-->
    <!--Sweet alert-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.0.5/sweetalert2.min.css" />
    <!-- END Custom CSS-->
    @*<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.7.14/css/bootstrap-datetimepicker.min.css">*@
    <!--Datatables-->
    <style>
        .post_menu {
            background: #1e2b36;
            color: #d7d7d8;
        }

            .post_menu:hover {
                background: #162029 !important;
            }

        .button.dt-button, div.dt-button, a.dt-button, .buttons-selected, .buttons-create {
            background-color: #3c8dbc;
            color: white;
            padding: 4px 10px;
            margin-right: 10px;
        }

        .card {
            height: 100% !important;
        }

        .mycontainer {
            padding: 10px;
        }

        .row-form {
            margin-left: 0px !important;
        }
    </style>
    <link href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.css" rel="stylesheet" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/v/bs/jq-3.3.1/jszip-2.5.0/dt-1.10.20/b-1.6.1/b-colvis-1.6.1/b-flash-1.6.1/b-html5-1.6.1/b-print-1.6.1/kt-2.5.1/r-2.2.3/sl-1.3.1/datatables.min.js"></script>

</head>

<body class="vertical-layout vertical-menu 2-columns   menu-expanded fixed-navbar" data-open="click" data-menu="vertical-menu" data-col="2-columns">
    <!-- Nav header -->
    <nav class="header-navbar navbar-expand-md navbar navbar-with-menu fixed-top navbar-semi-dark navbar-shadow">
        <div class="navbar-wrapper">
            <div class="navbar-header">
                <ul class="nav navbar-nav flex-row">
                    <li class="nav-item mobile-menu d-md-none mr-auto"><a class="nav-link nav-menu-main menu-toggle hidden-xs" href="#"><i class="ft-menu font-large-1"></i></a></li>
                    <li class="nav-item">
                        <a class="navbar-brand" href="#">
                            <img class="brand-logo" alt="robust admin logo" src="~/Content/images/main-logo_white.png">
                            <h3 class="brand-text">M A S</h3>
                        </a>
                    </li>
                    <li class="nav-item d-md-none"><a class="nav-link open-navbar-container" data-toggle="collapse" data-target="#navbar-mobile"><i class="fa fa-ellipsis-v"></i></a></li>
                </ul>
            </div>
            <div class="navbar-container content">
                <div class="collapse navbar-collapse" id="navbar-mobile">
                    <ul class="nav navbar-nav mr-auto float-left">
                        <li class="nav-item d-none d-md-block"><a class="nav-link nav-menu-main menu-toggle hidden-xs" href="#"><i class="ft-menu">         </i></a></li>

                        <li class="nav-item d-none d-md-block"><a class="nav-link nav-link-expand" href="#"><i class="ficon ft-maximize"></i></a></li>

                    </ul>
                    <ul class="nav navbar-nav float-right">
                        <li class="dropdown dropdown-user nav-item">
                            <span id="dateandtime" style="color:black;margin-top: 15px;padding-right: 25px;" class="nav-link dropdown-user-link"></span>
                        </li>
                        <li class="dropdown dropdown-language nav-item">
                            <a class="dropdown-toggle nav-link" id="dropdown-flag" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-globe"></i><span>Language/Idioma</span><span class="selected-language"></span></a>
                            <div class="dropdown-menu" aria-labelledby="dropdown-flag">
                                <a class="dropdown-item btn select_language" data-lang="es-MX" href="#"><i class="flag-icon flag-icon-mx"></i> Español</a>
                                <a class="dropdown-item btn select_language" data-lang="en" href="#"><i class="flag-icon flag-icon-us"></i> English</a>
                            </div>
                        </li>

                        <li class="dropdown dropdown-user nav-item">
                            <a class="dropdown-toggle nav-link dropdown-user-link" href="#" data-toggle="dropdown"><span class="avatar avatar-online"><img src="~/Content/robust/app-assets/images/portrait/small/avatar-s-1.png" alt="avatar"><i></i></span><span class="user-name">@user.email</span></a>
                            <div class="dropdown-menu dropdown-menu-right">
                                @if (crole == VLCitas.DataLayer.Models.UserRoles.Assistant)
                                {
                                    <a class="dropdown-item" href="@Url.Action("Perfil", "Asistente")"><i class="ft-user"></i> @Resource.Profile</a>
                                }
                                else if (crole == VLCitas.DataLayer.Models.UserRoles.Doctor)
                                {
                                    <a class="dropdown-item" href="@Url.Action("Perfil", "Doctor")"><i class="ft-user"></i> @Resource.Profile</a>
                                }
                                <a class="dropdown-item" href="@Url.Action("LogOut","Login")"><i class="ft-x"></i> Salir </a>

                            </div>
                        </li>

                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <!-- menu lateral -->
    <div class="main-menu menu-fixed menu-dark menu-accordion    menu-shadow " data-scroll-to-active="true">
        <div class="main-menu-content">
            <ul class="navigation navigation-main" id="main-menu-navigation" data-menu="menu-navigation">
                <li class=" navigation-header">
                    <span data-i18n="nav.category.pages">Menu</span><i class="ft-more-horizontal ft-minus" data-toggle="tooltip" data-placement="right" data-original-title="Pages"></i>
                </li>
                @RenderPage("menus/_options.cshtml")
                @*<li class=" nav-item">
                        <a href="@Url.Action("Index","Citas")"><i class="icon-home"></i><span class="menu-title" data-i18n="nav.scrumboard.main">@Resource.Dashboard</span></a>
                    </li>*@
            </ul>
        </div>
    </div>

    <!-- / main menu-->
    <!-- /general modal -->
    <div class="modal fade" id="GeneralModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="overflow-y: auto">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title"></h4>
                </div>
                <div class="modal-body" id="ModalBody">

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" id="btnCancel" data-dismiss="modal">@Resource.Cancel</button>
                    <button type="button" class="btn btn-default" id="btnOther" style="display:none;">Other</button>
                    <button type="button" class="btn btn-primary" id="btnsave">@Resource.Save</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>



    <!-- /status modal -->
    <div class="modal fade" id="status_Modal" tabindex="-1" role="dialog" aria-labelledby="status_Modal_Title">
        <div class="modal-dialog" role="document" id="status_Modal_Document">
            <div class="modal-content">
                <div class="modal-header" id="statusModalHeader">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="status_Modal_Title"></h4>
                </div>
                <div class="modal-body" id="status_Modal_Body">
                    ...
                </div>
            </div>
        </div>
        <div id="status_Modal_Loading" class="text-center">
            <img style="width:100%;" src="@Url.Content("~/Content/images/loading2.gif")" />
        </div>
    </div>


    <div class="app-content content">
        <div class="content-wrapper">
            <script src="@Url.Content("~/Scripts/Translations.js")" type="text/javascript"></script>
            <script type="text/javascript">

                var current_lang =  @Html.Raw(Json.Encode(Session["userLanguage"]));
                var user_lang = current_lang.JavascriptName;

                const currencyFormatter = new Intl.NumberFormat(current_lang.LanguageCultureName, {
                    style: 'currency',
                    currency: current_lang.Currency,
                    minimumFractionDigits: 2
                });
            </script>
            @RenderBody()
            <IFRAME id=Defib src="@Url.Content("~/Defibrillator.aspx")" frameBorder="0" width="0" height="0"></IFRAME>
            <hr />
        </div>
    </div>

    <!-- ////////////////////////////////////////////////////////////////////////////-->


    <footer class="footer footer-static footer-transparent">
        @*<div class="container">*@
        <div class="">
            <p class="clearfix text-muted text-sm-center mb-0 px-2"><span class="float-md-left d-xs-block d-md-inline-block">Copyright  &copy; @DateTime.Now.Year <a href="http://volkanolabs.com" target="_blank" class="text-bold-800 grey darken-2">VOLKANO LABS </a>, @Resource.Rights. </span><span class="float-md-right d-xs-block d-md-inline-block">@Resource.AppName <i class="icon-heart5 pink"></i></span></p>
        </div>
    </footer>

    <!-- BEGIN VENDOR JS-->
    <!-- build:js app-assets/js/vendors.min.js-->
    @*<script src="~/Content/robust/app-assets/js/core/libraries/jquery.min.js" type="text/javascript"></script>*@
    <script src="~/Content/robust/app-assets/vendors/js/vendors.min.js" type="text/javascript"></script>
    <script src="~/Content/robust/app-assets/vendors/js/ui/perfect-scrollbar.jquery.min.js" type="text/javascript"></script>
    <script src="~/Content/robust/app-assets/vendors/js/ui/unison.min.js" type="text/javascript"></script>
    <script src="~/Content/robust/app-assets/vendors/js/ui/blockUI.min.js" type="text/javascript"></script>
    <script src="~/Content/robust/app-assets/vendors/js/ui/jquery.matchHeight-min.js" type="text/javascript"></script>
    <script src="~/Content/robust/app-assets/vendors/js/ui/jquery-sliding-menu.js" type="text/javascript"></script>
    <script src="~/Content/robust/app-assets/vendors/js/sliders/slick/slick.min.js" type="text/javascript"></script>
    <script src="~/Content/robust/app-assets/vendors/js/extensions/pace.min.js" type="text/javascript"></script>
    <!-- /build-->
    <!-- BEGIN VENDOR JS-->
    <!-- BEGIN PAGE VENDOR JS-->
    <!-- END PAGE VENDOR JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.0.5/sweetalert2.min.js"></script>
    <!-- BEGIN ROBUST JS-->
    <script src="~/Content/robust/app-assets/vendors/js/extensions/moment.min.js" type="text/javascript"></script>
    <script src="~/Content/robust/app-assets/vendors/js/extensions/fullcalendar.min.js" type="text/javascript"></script>
    <!-- build:js app-assets/js/app.min.js-->
    <script src="~/Content/robust/app-assets/js/core/app-menu.min.js" type="text/javascript"></script>
    <script src="~/Content/robust/app-assets/js/core/app.min.js" type="text/javascript"></script>
    <!-- /build-->
    <!-- END ROBUST JS-->
    <!-- BEGIN PAGE LEVEL JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.js"></script>
    <script src="~/Scripts/editor/js/dataTables.editor.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            startClock();

            $(".select_language").on("click", function () {
                var lang = $(this).data("lang");
                $.ajax({
                    type: "POST",
                    url: "/Login/ChangeLanguage?lang=" + lang,

                    contentType: "application/json; charset=utf-8",
                    //dataType: "json",
                    success: function (data) {
                        location.reload();
                    }, error: function (request, status, error) {
                        //alert(request.responseText);
                    }
                });
            });
        });

        var f = new Date();
        function startClock() {
            f = new Date();
            hora = f.getHours();
            minuto = f.getMinutes();
            segundo = f.getSeconds();
            time = "am";
            if (segundo < 10) {
                segundo = '0' + segundo;
            }
            if (minuto < 10) {
                minuto = '0' + minuto;
            }
            if (hora > 12) {
                hora = hora - 12;
                time = "pm";
            }

            horaImprimible = js_language[user_lang].dayNames[f.getDay()] + ", " + js_language[user_lang].monthNames[f.getMonth()] + " " + f.getDate() + " " + hora + ":" + minuto + ":" + segundo + " " + time;
            $("#dateandtime").html(horaImprimible);
            setTimeout("startClock()", 1000)
        }

        const ShowLoading = function (title, timer) {
            timer = timer == null ? 60000 : timer;
            title = title == null ? js_language[user_lang].Loading : title;
            swal({
                title: '<strong>' + title + '</strong>',
                html:
                    '<img src="/img/loading.gif" />',
                showCloseButton: false,
                showCancelButton: false,
                allowEscapeKey: false,
                allowOutsideClick: false,
                showConfirmButton: false,
                timer: timer
            }).then(
                (reason) => {
                    if (reason.dismiss == 'timer') {
                        swal({
                            title: js_language[user_lang].SomethingWrong,
                            type: 'error',
                            timer: 2000,
                            showConfirmButton: false
                        });
                    }
                }
            )
        };
    </script>

    @RenderSection("scripts", required: false)

</body>
</html>
